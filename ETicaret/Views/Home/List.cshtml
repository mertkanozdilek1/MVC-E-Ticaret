@using ETicaret.Models;
@model IEnumerable<ProductModel>
@{
    ViewBag.Title = "List";
}

<div class="container pb-5">
    
    <div class="row">
        <div class="container pb-2">

            @using (Ajax.BeginForm("Search", "Home",
            new AjaxOptions { HttpMethod = "Post", InsertionMode = InsertionMode.Replace, UpdateTargetId = "searchResults", OnSuccess = "succes" }))
            {
                <div class="form-group form-inline" style="float:right">


                    <input type="text" name="searchKey" class="form-control" placeholder="Ürün Adi" />
                    <button type="submit" value="Ajax Search" class="btn btn-primary ml-2 ">ARA</button>

                </div>}</div>

        </div>

    <div class="row">

        <div class="col-md-3">
            @Html.Action("GetCategories", "Home")
        </div>

        <div class="col-md-9">
            <div id="searchResults">

                @if (Model.Count() == 0)
                {
                    <div class="alert alert-warning" role="alert">
                        <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                        Bu kategoride bir ürün bulunamadı.
                    </div>
                }
                else
                {
                    <div class="alert alert-warning" role="alert">
                        <i class="fa fa-check-square" aria-hidden="true"></i>
                        <strong>@Model.Count() adet</strong> ürün bulundu.
                    </div>
                }




                <div class="container pb-2">

                    @Html.Partial("_ProductList", Model)
                </div>
            </div>
        </div>

    </div>
</div>
